!function(e){"use strict";var a=function(){function e(e,a){for(var t in a){var n=a[t];n.configurable=!0,n.value&&(n.writable=!0)}Object.defineProperties(e,a)}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),t=function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")},n=function(e){var l=e.fn.wysiwyg,i={toolbar:[["mode"],["styles"],["fonts",["select","size"]],["text",["bold","italic","underline","color"]],["align",["left","center","right","justify"]],["lists",["default","numeric","level-indent","level-outdent"]],["components",["table","chart"]],["props",["interval","line-height","letter-spacing"]],["insert",["emoji","link","image","video","symbol","bookmark"]],["special",["print","clean"]],["fullscreen"]],fontSizes:["8px","9px","10px","11px","12px","13px","14px","15px","16px","17px","18px"],fontSizeDefault:["12px"],fontFamilies:["Open Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],fontFamilyDefault:["Open Sans"]},o=function(){function l(a,n){var o=this;t(o,l),o._config=e.extend({},i,n),o._editorId="wysiwyg-"+(String.fromCharCode(Math.floor(11*Math.random()))+Math.floor(1e6*Math.random())).trim(),o._$element=a instanceof jQuery?a:e(a),o._inputId=o._$element.attr("id"),o._$editor=e('<div id="'+o._editorId+'" aria-describedby="#'+o._inputId+'" class="wysiwyg-editor" />'),o._$element.wrap(o._$editor),o._$content=e('<div class="editor-content" contenteditable="true" />'),o._$content.html(o._$element.val()),o._$element.before(o._$content),o._$toolbar=e('<div class="wysiwyg-toolbar btn-toolbar" />'),o._$content.before(o._$toolbar),o._$statusbar=e('<div class="editor-statusbar" />'),o._$content.after(o._$statusbar),o._$element.addClass("hide"),"object"==typeof o._config.toolbar&&e.each(o._config.toolbar,function(a,t){var n=e('<div class="btn-group" role="group" aria-label="..." />');if("mode"===t[0])n.append(o._buildTollbarButton("mode","editor","fa fa-eye",null)),n.append(o._buildTollbarButton("mode","source","fa fa-code",null));else if("styles"===t[0]){n.append(o._buildTollbarDropdown("select-style",{"Header H1":{action:"wrap",value:"<h1 />"},"Header H2":{action:"wrap",value:"<h2 />"},"Header H3":{action:"wrap",value:"<h3 />"}},"fa fa-header","Style"))}else if("fonts"===t[0]){if(-1!==t[1].indexOf("select",0)){var l={};e.each(o._config.fontFamilies,function(e,a){l[a]={action:"style",value:"font-family:'"+a+"';"}}),n.append(o._buildTollbarDropdown("font-select",l,"fa fa-underline",o._config.fontFamilyDefault))}if(-1!==t[1].indexOf("size",0)){var i={};e.each(o._config.fontSizes,function(e,a){i[a]={action:"style",value:"font-size: "+a+";"}}),n.append(o._buildTollbarDropdown("font-size",i,null,o._config.fontSizeDefault))}n.append(o._buildTollbarDropdown("font-size",["test1","test2","test3","test4","test5"],"fa fa-underline","test3"))}else"text"===t[0]?(-1!==t[1].indexOf("bold",0)&&n.append(o._buildTollbarButton("text","bold","fa fa-bold",null)),-1!==t[1].indexOf("italic",0)&&n.append(o._buildTollbarButton("text","italic","fa fa-italic",null)),-1!==t[1].indexOf("underline",0)&&n.append(o._buildTollbarButton("text","underline","fa fa-underline",null)),-1!==t[1].indexOf("color",0)&&n.append(o._buildTollbarButton("text","color","fa fa-font",null))):"align"===t[0]?(-1!==t[1].indexOf("left",0)&&n.append(o._buildTollbarButton("align","left","fa fa-align-left",null)),-1!==t[1].indexOf("center",0)&&n.append(o._buildTollbarButton("align","center","fa fa-align-center",null)),-1!==t[1].indexOf("right",0)&&n.append(o._buildTollbarButton("align","right","fa fa-align-right",null)),-1!==t[1].indexOf("justify",0)&&n.append(o._buildTollbarButton("align","justify","fa fa-align-justify",null))):"lists"===t[0]?(-1!==t[1].indexOf("default",0)&&n.append(o._buildTollbarButton("lists","default","fa fa-list-ul",null)),-1!==t[1].indexOf("numeric",0)&&n.append(o._buildTollbarButton("lists","numeric","fa fa-list-ol",null)),-1!==t[1].indexOf("level-indent",0)&&n.append(o._buildTollbarButton("lists","level-indent","fa fa-indent",null)),-1!==t[1].indexOf("level-outdent",0)&&n.append(o._buildTollbarButton("lists","level-outdent","fa fa-outdent",null))):"components"===t[0]?(-1!==t[1].indexOf("table",0)&&n.append(o._buildTollbarButton("components","table","fa fa-table",null)),-1!==t[1].indexOf("chart",0)&&n.append(o._buildTollbarButton("components","chart","fa fa-pie-chart",null))):"props"===t[0]?(-1!==t[1].indexOf("interval",0)&&n.append(o._buildTollbarButton("props","interval","fa fa-bars",null)),-1!==t[1].indexOf("line-height",0)&&n.append(o._buildTollbarButton("props","line-height","fa fa-text-height",null)),-1!==t[1].indexOf("letter-spacing",0)&&n.append(o._buildTollbarButton("props","letter-spacing","fa fa-text-width",null))):"insert"===t[0]?(-1!==t[1].indexOf("emoji",0)&&n.append(o._buildTollbarButton("insert","emoji","fa fa-smile-o",null)),-1!==t[1].indexOf("link",0)&&n.append(o._buildTollbarButton("insert","link","fa fa-link",null)),-1!==t[1].indexOf("image",0)&&n.append(o._buildTollbarButton("insert","image","fa fa-image",null)),-1!==t[1].indexOf("video",0)&&n.append(o._buildTollbarButton("insert","video","fa fa-video-camera",null)),-1!==t[1].indexOf("symbol",0)&&n.append(o._buildTollbarButton("insert","symbol","fa fa-hashtag",null)),-1!==t[1].indexOf("bookmark",0)&&n.append(o._buildTollbarButton("insert","bookmark","fa fa-bookmark",null))):"special"===t[0]?(-1!==t[1].indexOf("print",0)&&n.append(o._buildTollbarButton("special","print","fa fa-print",null)),-1!==t[1].indexOf("clean",0)&&n.append(o._buildTollbarButton("special","clean","fa fa-eraser",null))):"fullscreen"===t[0]&&(n.addClass("pull-right"),n.append(o._buildTollbarButton("fullscreen",!0,"fa fa-arrows-alt",null)));o._$toolbar.append(n)}),o._$toolbar.length&&o._$toolbar.on("click","[data-action]",function(a){var t=e(a.currentTarget),n=t.data("action"),l=t.data("value");if(n&&l)switch(n){case"mode":switch(l){case"editor":case"source":console.log("Fire action: "+n+" with value: "+l)}break;case"wrap":case"style":case"fullscreen":console.log("Fire action: "+n+" with value: "+l);break;case"text":switch(l){case"bold":case"italic":case"underline":case"color":console.log("Fire action: "+n+" with value: "+l)}break;case"align":switch(l){case"left":case"center":case"right":case"justify":console.log("Fire action: "+n+" with value: "+l)}break;case"lists":switch(l){case"default":case"numeric":case"level-indent":case"level-outdent":console.log("Fire action: "+n+" with value: "+l)}break;case"components":switch(l){case"table":case"chart":console.log("Fire action: "+n+" with value: "+l)}break;case"props":switch(l){case"interval":case"line-height":case"letter-spacing":console.log("Fire action: "+n+" with value: "+l)}break;case"insert":switch(l){case"emoji":case"link":case"image":case"video":case"symbol":case"bookmark":console.log("Fire action: "+n+" with value: "+l)}break;case"special":switch(l){case"print":case"clean":console.log("Fire action: "+n+" with value: "+l)}break;default:console.warn("Unrecognized action: "+n+" with value: "+l)}}),o._$content.on("mouseup keyup",function(e){window.getSelection()}),o._$content.on("click keyup",function(a){window.getSelection();var t=e(a.target),n=o._getPath(t,o._$content);switch(n.tags[0]){case"b":o._$toolbar.find('[data-action="text"]').removeClass("active"),o._$toolbar.find('[data-action="text"][data-value="bold"]').addClass("active");break;case"u":o._$toolbar.find('[data-action="text"]').removeClass("active"),o._$toolbar.find('[data-action="text"][data-value="underline"]').addClass("active");break;case"i":o._$toolbar.find('[data-action="text"]').removeClass("active"),o._$toolbar.find('[data-action="text"][data-value="italic"]').addClass("active")}o._$statusbar.text(n.path)})}return a(l,{element:{value:function(){return this._$element}},_getPath:{value:function(a,t){for(var n,l=[];a.length;){var i=a[0],o=i.localName,r=a.parentsUntil(t);if(!o)break;o=o.toLowerCase(),l.push(o);var s=e(i).attr("id");s&&(o+="#"+s);var c=e(i).attr("class");c&&(o+="."+c.replace(/\./g,".")),n=o+(n?" > "+n:""),a=r}return{path:n,tags:l}}},_buildTollbarButton:{value:function(a,t,n,l){var i=e('<button type="button" class="btn btn-default" tabindex="-1" />');return a&&i.attr("data-action",a),t&&i.attr("data-value",t),l&&i.attr("data-hotkey",l),n&&i.append('<span class="'+n+'" />'),i}},_buildTollbarDropdown:{value:function(a,t,n,l){var i=e('<div class="dropdown" />'),o=e('<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" />'),r=e('<ul class="dropdown-menu" />'),s=e("<li />"),c=e('<a href="#" tabindex="-1" />');return"object"==typeof t&&e.each(t,function(t,n){var i=c.clone(),o=s.clone();"object"==typeof n?(n.action&&i.attr("data-action",n.action),n.value&&i.attr("data-value",n.value),"wrap"==n.action?i.html(e(n.value).text(t)):i.text(t),"style"==n.action&&i.attr("style",n.value.toString()),t==l&&o.addClass("active"),o.append(i),r.append(o)):(i.text(n),i.attr("data-action",a),i.attr("data-value",n),n==l&&o.addClass("active"),o.append(i),r.append(o))}),n&&o.prepend('<span class="'+n+'" /> '),l?o.text(l+" "):o.text("Dropdown "),o.append('<b class="caret" />'),i.append(o),i.append(r),i}}},{Default:{get:function(){return i}},_jQueryInterface:{value:function(a){var t=this;return a=a||{},t.each(function(){var i=e(t),o=e.extend({},n.Default,i.data(),"object"==typeof a&&a);new l(t,o)})}}}),l}();return e.fn.wysiwyg=o._jQueryInterface,e.fn.wysiwyg.Constructor=o,e.fn.wysiwyg.noConflict=function(){return e.fn.wysiwyg=l,o._jQueryInterface},o}(jQuery)}(jQuery);
//# sourceMappingURL=wysiwyg.js.map